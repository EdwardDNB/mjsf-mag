# Лабораторна робота №6. Vue router, репозиторії та сервіси

## Тема: Використання  Vue router, створення репозиторіїв та сервісів

### Теоретичні відомості

Патерн репозиторій (Repository Pattern) — це патерн проєктування, який використовується в розробці програмного
забезпечення для відокремлення логіки доступу до даних від решти додатку.
Він дозволяє абстрагувати роботу з базою даних або іншими джерелами даних, надаючи спеціалізований інтерфейс для
взаємодії з цими джерелами.

![img.png](assets/img.png)

*Рисунок 1. Схема паттерну репозиторій*

**Основні поняття та компоненти патерн репозиторій:**

**Репозиторій (Repository)** — клас або інтерфейс, який надає методи для зберігання, отримання, оновлення та видалення
об'єктів з бази даних або іншого джерела даних. Він приховує деталі роботи з базою даних від решти програми.

**Модель (Model)** — об'єкт, який представляє дані, що зберігаються в базі даних або іншому джерелі даних. Модель може
мати відповідність (mapping) до таблиці бази даних або іншої структури даних.

**Клієнтський код (Client Code)** — решта додатка, який використовує репозиторій для взаємодії з даними. Клієнтський код
викликає методи репозиторія, а не безпосередньо взаємодіє з базою даних.

Переваги використання патерн репозиторій:

- *Розділення відповідальностей* — патерн репозиторій дозволяє відокремити логіку доступу до даних від бізнес-логіки
  програми. Це полегшує підтримку і рефакторинг.

- *Тестованість* — оскільки клієнтський код взаємодіє з репозиторієм через інтерфейс, це дозволяє легко тестувати класи,
  що використовують репозиторій, за допомогою мокінгу або створення фейків.

- *Повторне використання* — репозиторії можна використовувати в різних частинах програми й навіть в інших проєкт, що
  сприяє повторному використанню коду.

- *Абстракція джерел даних* — репозиторій може працювати з різними джерелами даних (наприклад, базою даних,
  вебсервісами, файлами) і надавати єдиний інтерфейс для роботи з ними.

- *Підтримка розширення* — зміна джерела даних або реалізації репозиторія може бути виконана без зміни клієнтського
  коду.

- *Зниження ризику помилок* — за допомогою репозиторіїв зменшується ризик дублювання коду для доступу до даних та
  зменшується ймовірність помилок.

- Патерн є корисним у великих проєктах і спрощує управління та розвиток додатків, особливо тих, що взаємодіють зі
  складними джерелами даних.

**Vue Router**

**Vue Router** — це офіційна бібліотека маршрутизації для Vue.js, яка дозволяє створювати багатосторінкові SPA (Single
Page Application) додатки, зберігаючи єдину HTML-сторінку.

Вона дозволяє:

- визначати маршрути (routes), які відповідають певним компонентам;
- переходити між сторінками без перезавантаження браузера;
- працювати з параметрами в URL (наприклад /products/:id);
- використовувати навігаційні переходи, охоронці маршрутів і динамічне завантаження компонентів.

Основні поняття Vue Router:

**Маршрут (Route)** – це зв’язок між шляхом (path) та компонентом (component).

```js
{ path: '/products', component: ProductsView }
```

**Роутер (Router) –** це об’єкт, який зберігає конфігурацію маршрутів і відповідає за навігацію.

```js
const router = createRouter({
    history: createWebHistory(),
    routes,
})
```

**Роутер-в’ю (<router-view>)** – компонент, у який динамічно підставляються компоненти, що відповідають поточному маршруту.

**Роутер-лінк (<router-link>)** – компонент для навігації між маршрутами без перезавантаження сторінки.
```js
<router-link to="/products">Продукти</router-link>
```

Переваги використання Vue Router:
 - SPA-навігація без перезавантаження сторінки;
 - підтримка параметрів, динамічних маршрутів і вкладених переходів;
 - легка інтеграція з Vuex (Pania) або Composition API;
 - підтримка охоронців (guards) для контролю доступу.
  
[Детальна інформація.md](../lec-6/Readme.md)

### Завдання

1. Виконати клонування та запуск проєкт: https://github.com/lisnayk/modern-frameworks/tree/master/lab3-ex
2. Проаналізувати схеми даних https://api.escuelajs.co/docs та документацію https://fakeapi.platzi.com/
3. Ознайомитися з додатковими матеріалами та проаналізувати код з пункту 1.
4. Використовуючи код що існує:
    - Створити шаблонні інтерфейси `Creatable`, `Editable`, `Deletable`.
    - Створити типи `Product` та `User`.
    - Створити класи `ProductService` та `UserService` що імплементують інтерфейси типів відповідно.
    - Імплементувати методи інтерфейсів (`Readable`, `Writable`, `Editable`, `Deletable`) для сервісів (репозиротіїв)
      Categories, Products та Users.
    - Оновити фабрику `ServiceProvider` та додати нові сервіси.
5. Створити роутинг для перегляду списку товарів та детальної інформації про вибраний товар.
    - Додати сторінку /products для відображення списку товарів.
    - Додати сторінку /products/:id для перегляду детальної інформації про товар.
    - Використати ProductService для завантаження даних.
6. Протестувати роботу сервісів та їх методів.
7. Розмістити проєкт у системі контролю версій (github.com, bitbucket.org) з іменем ропозиторію mjsf-mag-lab-<номер
   роботи>.
8. Відправити посилання на репозиторій у якості звіту з виконаної роботи.

### Додатковий матеріал:

1. https://markus.oberlehner.net/blog/the-ioc-container-pattern-with-vue/
2. https://medium.com/backenders-club/consuming-apis-using-the-repository-pattern-in-vue-js-e64671b27b09
3. https://itnext.io/building-vue-enterprise-application-part-3-the-store-dbda0e4bb117

### Контрольні питання

1. Що таке патерн репозиторій і для чого він використовується в розробці програмного забезпечення?
2. Які компоненти включаються в реалізацію патерн репозиторій?
3. Яка роль моделі в патерн репозиторій?
4. Як патерн репозиторій допомагає відокремити логіку доступу до даних від бізнес-логіки додатку?
5. Як патерн репозиторій сприяє тестованості програми?
6. Які переваги надає використання патерн репозиторій?

